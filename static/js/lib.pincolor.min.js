/*品色创意设计中心 lib.min.js
* EasIng v1.1.2
* MOUSE WHEEL
* jCarouselLite 1.0.1
* soChange 1.6.1
* lazyload
* 获得URL请求参数
* cnLength()
* jQuery.imgAutoSize
* 截取字符
* jQuery hashchange event - v1.3
* jQuery.ScrollTo 1.4
* autoTextarea-文本框自适应高度
* 元素窗口居中
* 图片预加载，由模糊到清晰
*/
//// JQUERY PLUGIN - EASING
jQuery.easing['jswing']=jQuery.easing['swing'];jQuery.extend(jQuery.easing,{def:'easeOutQuad',swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d);},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b;},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b;},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*((--t)*(t-2)-1)+b;},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b;},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b;},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b;},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b;},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b;},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b;},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b;},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b;},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b;},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b;},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b;},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b;},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b;},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b;},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b;},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b;},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b;},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1)return-c/2*(Math.sqrt(1-t*t)-1)+b;return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b;},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b;},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b;},easeInBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b;},easeOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b;},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b;},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b;},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b;}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b;}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b;}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b;}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2)return jQuery.easing.easeInBounce(x,t*2,0,c,d)*.5+b;return jQuery.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b;}});

// JQUERY PLUGIN - MOUSE WHEEL 
// Thanks to: http://adomas.org/javascript-mouse-wheel/ Version: 3.0.6
(function(a){function d(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}var b=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var c=b.length;c;)a.event.fixHooks[b[--c]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],d,!1);else this.onmousewheel=d},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],d,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);

/*
jCarouselLite 1.0.1
 $(".carousel").jCarouselLite({
 *      mouseWheel: true,
 *      btnNext: ".next",
 *      btnPrev: ".prev",
 *      auto: 800,
 *      speed: 500,
 *      easing: "easeOutBack",
 *      vertical: true,
 *      beforeStart: function(a) {
 *          alert("Before animation starts:" + a);
 *      },
 *      afterEnd: function(a) {
 *          alert("After animation ends:" + a);
 *      }
 * });
*/

(function($){$.fn.jCarouselLite=function(o){o=$.extend({btnPrev:null,btnNext:null,btnGo:null,mouseWheel:false,onMouse:false,auto:null,speed:200,easing:null,vertical:false,circular:true,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null},o||{});return this.each(function(){var running=false,animCss=o.vertical?"top":"left",sizeCss=o.vertical?"height":"width";var div=$(this),ul=$("ul",div),tLi=$("li",ul),tl=tLi.size(),v=o.visible;if(o.circular){ul.prepend(tLi.slice(tl-v-1+1).clone()).append(tLi.slice(0,v).clone());o.start+=v;}var li=$("li",ul),itemLength=li.size(),curr=o.start;div.css("visibility","visible");li.css({overflow:"hidden",float:o.vertical?"none":"left"});ul.css({margin:"0",padding:"0",position:"relative","list-style-type":"none","z-index":"1"});div.css({overflow:"hidden",position:"relative","z-index":"2",left:"0px"});var liSize=o.vertical?height(li):width(li);var ulSize=liSize*itemLength;var divSize=liSize*v;li.css({width:li.width(),height:li.height()});ul.css(sizeCss,ulSize+"px").css(animCss,-(curr*liSize));div.css(sizeCss,divSize+"px");if(o.btnPrev)$(o.btnPrev).click(function(){return go(curr-o.scroll);});if(o.btnNext)$(o.btnNext).click(function(){return go(curr+o.scroll);});if(o.btnGo)$.each(o.btnGo,function(i,val){$(val).click(function(){return go(o.circular?o.visible+i:i);});});if(o.mouseWheel&&div.mousewheel)div.mousewheel(function(e,d){return d>0?go(curr-o.scroll):go(curr+o.scroll);});if(o.auto)div.jCarouselLiteTime=setInterval(function(){go(curr+o.scroll);},o.auto+o.speed);if(o.onMouse){$(this).hover(function(){clearInterval(div.jCarouselLiteTime);},function(){div.jCarouselLiteTime=setInterval(function(){go(curr+o.scroll);},o.auto+o.speed);});}function vis(){return li.slice(curr).slice(0,v);};function go(to){if(!running){if(o.beforeStart)o.beforeStart.call(this,vis());if(o.circular){if(to<=o.start-v-1){ul.css(animCss,-((itemLength-(v*2))*liSize)+"px");curr=to==o.start-v-1?itemLength-(v*2)-1:itemLength-(v*2)-o.scroll;}else if(to>=itemLength-v+1){ul.css(animCss,-((v)*liSize)+"px");curr=to==itemLength-v+1?v+1:v+o.scroll;}else curr=to;}else{if(to<0||to>itemLength-v)return;else curr=to;}running=true;ul.animate(animCss=="left"?{left:-(curr*liSize)}:{top:-(curr*liSize)},o.speed,o.easing,function(){if(o.afterEnd)o.afterEnd.call(this,vis());running=false;});if(!o.circular){$(o.btnPrev+","+o.btnNext).removeClass("disabled");$((curr-o.scroll<0&&o.btnPrev)||(curr+o.scroll>itemLength-v&&o.btnNext)||[]).addClass("disabled");}}return false;};});};function css(el,prop){return parseInt($.css(el[0],prop))||0;};function width(el){return el[0].offsetWidth+css(el,'marginLeft')+css(el,'marginRight');};function height(el){return el[0].offsetHeight+css(el,'marginTop')+css(el,'marginBottom');};})(jQuery);
/*
 *	soChange 1.6.1 - simple object change with jQuery
	$('#sobox2 img').soChange({
				thumbObj:null,//导航对象
				botPrev:null,//按钮上一个
				botNext:null,//按钮下一个
				changeType:'fade',//切换方式，可选：fade,slide，默认为fade
				thumbNowClass:'now',//导航对象当前的class,默认为now
				thumbOverEvent:true,//鼠标经过thumbObj时是否切换对象，默认为true，为false时，只有鼠标点击thumbObj才切换对象
				slideTime:1000,//平滑过渡时间，默认为1000ms，为0或负值时，忽略changeType方式，切换效果为直接显示隐藏
				autoChange:true,//是否自动切换，默认为true
				clickFalse:true,//导航对象点击是否链接无效，默认是return false链接无效，当thumbOverEvent为false时，此项必须为true，否则鼠标点击事件冲突
				overStop:true,//鼠标经过切换对象时，是否停止切换，并于鼠标离开后重启自动切换，前提是已开启自动切换
				changeTime:5000,//自动切换时间
				delayTime:300//鼠标经过时对象切换迟滞时间，推荐值为300ms
	});
*/
;(function(a){a.fn.extend({"soChange":function(b){b=a.extend({thumbObj:null,botPrev:null,botNext:null,changeType:'fade',thumbNowClass:'now',thumbOverEvent:true,slideTime:1000,autoChange:true,clickFalse:true,overStop:false,changeTime:5000,delayTime:300},b||{});var c=a(this);var d;var e=c.size();var f=0;var g;var h;var i;function j(){if(f!=g){if(b.thumbObj){a(b.thumbObj).removeClass(b.thumbNowClass).eq(g).addClass(b.thumbNowClass)};if(b.slideTime<=0){c.eq(f).hide();c.eq(g).show()}else if(b.changeType=='fade'){c.eq(f).fadeOut(b.slideTime);c.eq(g).fadeIn(b.slideTime)}else{c.eq(f).slideUp(b.slideTime);c.eq(g).slideDown(b.slideTime)};f=g;}};function k(){g=(f+1)%e;j()};c.hide().eq(0).show();if(b.thumbObj){d=a(b.thumbObj);d.removeClass(b.thumbNowClass).eq(0).addClass(b.thumbNowClass);d.click(function(){g=d.index(a(this));j();if(b.clickFalse){return false}});if(b.thumbOverEvent){d.hover(function(){g=d.index(a(this));clearInterval(c.h);c.h=setTimeout(j,b.delayTime)},function(){clearTimeout(c.h)})}};if(b.botNext){a(b.botNext).click(function(){if(c.queue().length<1){k()};return false})};if(b.botPrev){a(b.botPrev).click(function(){if(c.queue().length<1){g=(f+e-1)%e;j()};return false})};if(b.autoChange){c.h=setInterval(k,b.changeTime);if(b.overStop){c.hover(function(){clearInterval(c.h);},function(){clearInterval(c.h);c.h=setInterval(k,b.changeTime)})}}}})})(jQuery);

/*
$("img").lazyload({ 
	placeholder : "img/grey.gif" 占位图片设定一个URL地址透明
	threshold : 200 设置临界值 (触发加载处到图片的距离) 来控制图片的加载. 默认值为 0 (到达图片边界的时候加载).
	event : "click" 如: click 和 mouseover. 你还可以使用自定义的事件, 如: sporty 和 foobar. 默认情况下处于等待状态, 直到用户滚动到窗口上图片所在位置. 
	effect : "fadeIn"  默认地使用 show() 方法来将图显示出来
	container: $("#container") 可滚动容器的图片上, 例如带滚动条的 DIV 元素
})
*/
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('(5($){$.J.L=5(r){8 1={d:0,A:0,b:"h",v:"N",3:4};6(r){$.D(1,r)}8 m=9;6("h"==1.b){$(1.3).p("h",5(b){8 C=0;m.t(5(){6(!$.k(9,1)&&!$.l(9,1)){$(9).z("o")}j{6(C++>1.A){g B}}});8 w=$.M(m,5(f){g!f.e});m=$(w)})}g 9.t(5(){8 2=9;$(2).c("s",$(2).c("i"));6("h"!=1.b||$.k(2,1)||$.l(2,1)){6(1.u){$(2).c("i",1.u)}j{$(2).K("i")}2.e=B}j{2.e=x}$(2).T("o",5(){6(!9.e){$("<V />").p("X",5(){$(2).Y().c("i",$(2).c("s"))[1.v](1.Z);2.e=x}).c("i",$(2).c("s"))}});6("h"!=1.b){$(2).p(1.b,5(b){6(!2.e){$(2).z("o")}})}})};$.k=5(f,1){6(1.3===E||1.3===4){8 7=$(4).F()+$(4).O()}j{8 7=$(1.3).n().G+$(1.3).F()}g 7<=$(f).n().G-1.d};$.l=5(f,1){6(1.3===E||1.3===4){8 7=$(4).I()+$(4).U()}j{8 7=$(1.3).n().q+$(1.3).I()}g 7<=$(f).n().q-1.d};$.D($.P[\':\'],{"Q-H-7":"$.k(a, {d : 0, 3: 4})","R-H-7":"!$.k(a, {d : 0, 3: 4})","S-y-7":"$.l(a, {d : 0, 3: 4})","q-y-7":"!$.l(a, {d : 0, 3: 4})"})})(W);',62,62,'|settings|self|container|window|function|if|fold|var|this||event|attr|threshold|loaded|element|return|scroll|src|else|belowthefold|rightoffold|elements|offset|appear|bind|left|options|original|each|placeholder|effect|temp|true|of|trigger|failurelimit|false|counter|extend|undefined|height|top|the|width|fn|removeAttr|lazyload|grep|show|scrollTop|expr|below|above|right|one|scrollLeft|img|jQuery|load|hide|effectspeed'.split('|'),0,{}));

/*
 * jQuery hashchange event - v1.3 
 * http://benalman.com/projects/jquery-hashchange-plugin/
 // Bind an event handler.
jQuery(window).hashchange( function(e) {
  var hash = location.hash;
  ...
});
 */
(function($,e,b){var c="hashchange",h=document,f,g=$.event.special,i=h.documentMode,d="on"+c in e&&(i===b||i>7);function a(j){j=j||location.href;return"#"+j.replace(/^[^#]*#?(.*)$/,"$1")}$.fn[c]=function(j){return j?this.bind(c,j):this.trigger(c)};$.fn[c].delay=50;g[c]=$.extend(g[c],{setup:function(){if(d){return false}$(f.start)},teardown:function(){if(d){return false}$(f.stop)}});f=(function(){var j={},p,m=a(),k=function(q){return q},l=k,o=k;j.start=function(){p||n()};j.stop=function(){p&&clearTimeout(p);p=b};function n(){var r=a(),q=o(m);if(r!==m){l(m=r,q);$(e).trigger(c)}else{if(q!==m){location.href=location.href.replace(/#.*/,"")+q}}p=setTimeout(n,$.fn[c].delay)}$.browser.msie&&!d&&(function(){var q,r;j.start=function(){if(!q){r=$.fn[c].src;r=r&&r+a();q=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||l(a());n()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow;h.onpropertychange=function(){try{if(event.propertyName==="title"){q.document.title=h.title}}catch(s){}}}};j.stop=k;o=function(){return a(q.location.href)};l=function(v,s){var u=q.document,t=$.fn[c].domain;if(v!==s){u.title=h.title;u.open();t&&u.write('<script>document.domain="'+t+'"<\/script>');u.close();q.location.hash=v}}})();return j})()})(jQuery,this);

//$(".grayTips").grayTips();
(function(a){a.fn.grayTips=function(b){b=a.extend({mc:"#999",fc:"#333",bhc:"#DDD",bec:"#C00"},b||{});return this.each(function(){var d=jQuery(this);var c=jQuery.trim(d.val());var e={color:b.mc};var f={color:b.bec};d.css(e);d.focus(function(){d.animate({color:b.bec,borderColor:b.bec});if(d.val()!=c){d.css(f)}else{d.val("").css(e)}});d.blur(function(){d.animate({borderColor:b.bhc,color:b.fc});if(d.val()==""){d.val(c).css(e)}});d.keydown(function(){d.css(f)})})}})(jQuery);

/*$(":text).grayfocus();
(function(a){a.fn.grayfocus=function(b){b=a.extend({mc:"#DDD",ec:"#666",fc:"#C00"},b||{});return this.each(function(){var d=jQuery(this);var c=jQuery.trim(d.val());var e={color:b.ec,borderColor:b.mc};var f={color:b.fc,borderColor:b.fc};d.css(e);d.focus(function(){d.animate(f)});d.blur(function(){d.css(e)});d.keydown(function(){d.css(f)})})}})(jQuery);
/*
 Color animation jQuery-plugin
 http://www.bitstorm.org/jquery/color-animation/ Copyright 2011 Edwin Martin <edwin@bitstorm.org> Released under the MIT and GPL licenses.
$('#demodiv').animate({color: '#E4D8B8'})
$('#demodiv').animate({backgroundColor: '#400101'})
$('#demodiv').animate({borderBottomColor: '#00346B'})
$('#demodiv').animate({borderColor: '#F2E2CE'})
$('#demodiv').animate({color: 'rgba(42, 47, 76, 0.1)'})
*/
(function(d){function i(){var b=d("script:first"),a=b.css("color"),c=false;if(/^rgba/.test(a))c=true;else try{c=a!=b.css("color","rgba(0, 0, 0, 0.5)").css("color");b.css("color",a)}catch(e){}return c}function g(b,a,c){var e="rgb"+(d.support.rgba?"a":"")+"("+parseInt(b[0]+c*(a[0]-b[0]),10)+","+parseInt(b[1]+c*(a[1]-b[1]),10)+","+parseInt(b[2]+c*(a[2]-b[2]),10);if(d.support.rgba)e+=","+(b&&a?parseFloat(b[3]+c*(a[3]-b[3])):1);e+=")";return e}function f(b){var a,c;if(a=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/.exec(b))c=[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16),1];else if(a=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/.exec(b))c=[parseInt(a[1],16)*17,parseInt(a[2],16)*17,parseInt(a[3],16)*17,1];else if(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))c=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3]),1];else if(a=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9\.]*)\s*\)/.exec(b))c=[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10),parseFloat(a[4])];return c}d.extend(true,d,{support:{rgba:i()}});var h=["color","backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","outlineColor"];d.each(h,function(b,a){d.fx.step[a]=function(c){if(!c.init){c.a=f(d(c.elem).css(a));c.end=f(c.end);c.init=true}c.elem.style[a]=g(c.a,c.end,c.pos)}});d.fx.step.borderColor=function(b){if(!b.init)b.end=f(b.end);var a=h.slice(2,6);d.each(a,function(c,e){b.init||(b[e]={a:f(d(b.elem).css(e))});b.elem.style[e]=g(b[e].a,b.end,b.pos)});b.init=true}})(jQuery);

/*
//获得URL请求参数
var url = "http://www.google.cn/search?hl=zh-CN&newwindow=1&q=%E7%AC%91%E7%9A%84%E8%87%AA%E7%84%B6&meta=&aq=f&oq=" ;  
q = getUvalue(url,"q")
alert("EaseWe空间Spaces".cnLength()) -> 显示 16
imgresize(img,w,h) 图片缩放代码
*/
getUvalue=function(e,c){if(c==null){c=window.location.href}if(e==null){return}var b=c.split("?")[1].split("&");for(var d=0;d<b.length;d++){var a=b[d].split("=");if(e==a[0]){return a[1]}}};
String.prototype.cnLength=function(){var a=this.match(/[^\x00-\xff]/ig);return this.length+(a==null?0:a.length)};

/* jQuery.imgAutoSize.js
$('.imgWrap').imgAutoSize(600,500);
*/
jQuery.fn.imgAutoSize=function(d,c){$(this).each(function(){var e=$(this);var a=$(this).width();var b=$(this).height();if(a>b){if(a>d){e.width(d);e.height(b*d/a)}}else{if(b>c){e.height(c);e.width(a*c/b)}}})};

String.prototype.sub2 = function(n) {
	var r = /[^\x00-\xff]/g;
	if (this.replace(r, "mm").length <= n) return this;
	var m = Math.floor(n / 2);
	for (var i = m; i < this.length; i++) {
		if (this.substr(0, i).replace(r, "mm").length >= n) {
			return this.substr(0, i) + "...";
		}
	}
	return this;
};
//$(".slist .nl").limit(); 
jQuery.fn.limit = function() {
	var a = jQuery(this);
	a.each(function() {
		
		
		var b = $(this).text();
		var d = $(this).text().length;
		var c = $(this).attr("limit");
		var r = /[^\x00-\xff]/g;
		
		$(this).text(b.sub2(c*2-4));
		
	})
};

/*$("#??").html($("#??").toFixedWidth($("#??").text(),11,"...")); */
;(function($){
    $.fn.toFixedWidth = function(value, length, fill) {
        var result = value.toString();
        var regE = /^[A-Za-z0-9]+$/i;
        var regC = /^[\u4E00-\u9FA5]+$/;
        var regAll = /^([a-zA-Z0-9\u4E00-\u9FA5])+$/;
        var len = result.length;
        var val_len  = 0;
        var index = 1;
        if (regE.test(result)) {
            length *= 2;
        } else if (regAll.test(result)) {
            for (var i = 0; i < len; i++) {
                var s = result.charAt(i);
                if (regE.test(s)) {
                    val_len += 0.5;
                } else {
                    val_len += 1;
                }
                var M = Math.ceil(val_len);
                if (M == length) {
                index += i;
                }
            }
            
        }
        if (!fill) {
            fill = "...";
        }
        //length = length > val_len? length : val_len;
        var padding = length - len;
        if (padding < 0) {
            if (length < val_len) {
                result = result.substr(0,index) + fill;
            } else {
                result = result.substr(0,length) + fill;
            }
        } 
        return result;
    };
})(jQuery);


/*jQuery实现页面滚动时层智能浮动
$("#pintop").smartFloat();

$.fn.smartFloat=function(){var position=function(element){var top=element.position().top,pos=element.css("position");$(window).scroll(function(){var scrolls=$(this).scrollTop();if(scrolls>top){if(window.XMLHttpRequest){element.css({position:"fixed",top:0});}else{element.css({top:scrolls});}}else{element.css({position:pos,top:top});}});};return $(this).each(function(){position($(this));});};
*/
$.fn.smartFloat = function() {
	var position = function(element) {
		var top = element.position().top, pos = element.css("position"), cmp_top = element.offset().top;
		
		$(window).scroll(function() {
			var scrolls = $(this).scrollTop();
			if (scrolls > cmp_top) {
				if (window.XMLHttpRequest) {
					element.css({
						position: "fixed",
						top: 0
					});	
				} else {
					if ($.browser.version != "6.0"){
						element.css({top: scrolls});	
					} else {
						element.css({top: scrolls-(cmp_top-top)});
					}
				}
			}else {
				element.css({
					position: pos,
					top: top
				});	
			}
		});
};
	return $(this).each(function() {
		position($(this));						 
	});
};
 
/**
 * jQuery.ScrollTo - Easy element scrolling using jQuery.
 * @version 1.4
$(function(){       
	$(".nav_pro").click(function(){$.scrollTo('#pro',500);}); 
	$(".nav_pro").click(function(){$.scrollTo({top:800, left:700},800);});
	$(...).click(function(){$.scrollTo('li:eq(15)', 2500,	{easing:'elasout'} );});  
															{over:{top:0.2, left:-0.5} 上左移位
															{axis:'x'} //只横向
															{queue:true}//先左右 后上面
															{onAfter:function(){ };//called after the scrolling ends
															{queue:true, onAfterFirst:function(){ }//called after the first axis scrolled
															{easing:'swing', queue:true, axis:'xy',onAfter:function(){alert('scrolled!!');} //综合效果
}); 
 * http://flesler.blogspot.com/2007/10/jqueryscrollto.html
 */
;(function(h){var m=h.scrollTo=function(b,c,g){h(window).scrollTo(b,c,g)};m.defaults={axis:'y',duration:1};m.window=function(b){return h(window).scrollable()};h.fn.scrollable=function(){return this.map(function(){var b=this.parentWindow||this.defaultView,c=this.nodeName=='#document'?b.frameElement||b:this,g=c.contentDocument||(c.contentWindow||c).document,i=c.setInterval;return c.nodeName=='IFRAME'||i&&h.browser.safari?g.body:i?g.documentElement:this})};h.fn.scrollTo=function(r,j,a){if(typeof j=='object'){a=j;j=0}if(typeof a=='function')a={onAfter:a};a=h.extend({},m.defaults,a);j=j||a.speed||a.duration;a.queue=a.queue&&a.axis.length>1;if(a.queue)j/=2;a.offset=n(a.offset);a.over=n(a.over);return this.scrollable().each(function(){var k=this,o=h(k),d=r,l,e={},p=o.is('html,body');switch(typeof d){case'number':case'string':if(/^([+-]=)?\d+(px)?$/.test(d)){d=n(d);break}d=h(d,this);case'object':if(d.is||d.style)l=(d=h(d)).offset()}h.each(a.axis.split(''),function(b,c){var g=c=='x'?'Left':'Top',i=g.toLowerCase(),f='scroll'+g,s=k[f],t=c=='x'?'Width':'Height',v=t.toLowerCase();if(l){e[f]=l[i]+(p?0:s-o.offset()[i]);if(a.margin){e[f]-=parseInt(d.css('margin'+g))||0;e[f]-=parseInt(d.css('border'+g+'Width'))||0}e[f]+=a.offset[i]||0;if(a.over[i])e[f]+=d[v]()*a.over[i]}else e[f]=d[i];if(/^\d+$/.test(e[f]))e[f]=e[f]<=0?0:Math.min(e[f],u(t));if(!b&&a.queue){if(s!=e[f])q(a.onAfterFirst);delete e[f]}});q(a.onAfter);function q(b){o.animate(e,j,a.easing,b&&function(){b.call(this,r,a)})};function u(b){var c='scroll'+b,g=k.ownerDocument;return p?Math.max(g.documentElement[c],g.body[c]):k[c]}}).end()};function n(b){return typeof b=='object'?b:{top:b,left:b}}})(jQuery);

/*
* 【jQuery插件】autoTextarea-文本框根据输入内容自适应高度
CSS代码：
        .chackTextarea-area{  line-height: 20px; font-size: 14px; font-family: "Helvetica Neue", Helvetica, Arial;resize: none; padding: 0;border: 1px solid #CDCDCD; width: 400px; height: 40px}
默认的参数及调用：
         $(".chackTextarea-area").autoTextarea({
            maxHeight:220,//文本框是否自动撑高，默认：null，不自动撑高；如果自动撑高必须输入数值，该值作为文本框自动撑高的最大高度
            minHeight:$(this).height()//默认最小高度，也就是文本框最初的高度，当内容高度小于这个高度的时候，文本以这个高度显示
         })
*/
;(function($){$.fn.autoTextarea=function(options){var defaults={maxHeight:null,minHeight:$(this).height()};var opts=$.extend({},defaults,options);return $(this).each(function(){$(this).bind("paste cut keydown keyup focus blur",function(){var height,style=this.style;this.style.height=opts.minHeight+'px';if(this.scrollHeight>opts.minHeight){if(opts.maxHeight&&this.scrollHeight>opts.maxHeight){height=opts.maxHeight;style.overflowY='scroll';}else{height=this.scrollHeight;style.overflowY='hidden';}
style.height=height+'px';}});});};})(jQuery);

/*
*元素窗口居中
//这样来使用上面的函数：
$(element).center();
*/
jQuery.fn.center = function () {
    this.css('position','absolute');
    this.css('top', ( $(window).height() - this.height() ) / +$(window).scrollTop() + 'px');
    this.css('left', ( $(window).width() - this.width() ) / 2+$(window).scrollLeft() + 'px');
    return this;
}
/*
*图片预加载，由模糊到清晰
$(".xxx img").preload_images();
*/
;jQuery.fn.preload_images=function(a){a=$.extend({orc:"original"},a),$(this).each(function(b){var c=new Image,d=$(this);return $(c).load(function(){d.attr("src",d.attr(a.orc))}).error(function(){}).attr("src",d.attr(a.orc)),d})}

;var imgReady=(function(){var g=[],h=null,e=function(){var a=0;for(;a<g.length;a++){g[a].end?g.splice(a--,1):g[a]()}!g.length&&f()},f=function(){clearInterval(h);h=null};return function(s,d,b,o){var c,r,a,p,t,q=new Image();q.src=s;if(q.complete){d.call(q);b&&b.call(q);return}r=q.width;a=q.height;q.onerror=function(){o&&o.call(q);c.end=true;q=q.onload=q.onerror=null};c=function(){p=q.width;t=q.height;if(p!==r||t!==a||p*t>1024){d.call(q);c.end=true}};c();q.onload=function(){!c.end&&c();b&&b.call(q);q=q.onload=q.onerror=null};if(!c.end){g.push(c);if(h===null){h=setInterval(e,40)}}}}());

;jQuery.fn.cache_images=function(rd){this.each(function(){var a=jQuery(this);imgReady(a.attr("src"),function(){},function(){},function(){if(a.attr("src").indexOf("?cache")<0){a.attr("src",a.attr("src")+"?cache");rd && rd.call(a);}} );



})};


  /*
*  Ver: "1.0.0.0"
* 修正IE6下面的position中的fixed的显示问题
*  Blog: http://daylog.sinaapp.com
*  $("ID Or Clss").ie6fixedbug();
*/
$.fn.extend({
    ie6fixedbug: function () {
        $(this).css("position", "absolute");
        var m = (window.screen.height - $(this).height()) / 4;
        var obj = $(this);
        window.onscroll = function () {
            obj.css(top,(document.body.scrollTop || document.documentElement.scrollTop) + m + 'px');
        }
        window.onresize = function () {
			obj.css(top,(document.body.scrollTop || document.documentElement.scrollTop) + m + 'px');
        }
    }
});    

jQuery.fn.Pinsidebar=function(a){
		defaults=$.extend({pos:"right",btn:".btn",bdTop:150,minWidth:30,maxWidth:180,delay:1000,zindex:99999},a);
		var _self=$(this),OTout;
		_self.css({position:"fixed",top:defaults.bdTop,"z-index":defaults.zindex,width:defaults.minWidth});
		var setcss=(defaults.pos=="left"?{left:0}:{right:0});
		_self.css(setcss);
		_self.append('<iframe class="conIfr" frameBorder="0" style="position: absolute; z-index: 9999; diplay:none; width:100%; top: 0px; right: 0px; height: 100%;width: 0;filter:alpha(opacity=0); opacity: 0;"></iframe>');
		Wscroll=function(b,c){
			$(window).scroll(function (){ 
				var offsetTop = c + $(window).scrollTop() +"px"; 
				b.animate({top : offsetTop },{ duration:600 , queue:false }); 
			});
		}
		Wscroll(_self,defaults.bdTop);
		_self.hover(function(){
			clearTimeout(OTout);
			
		},function(){
			OTout=setTimeout(function(){$(_self).css({"z-index":(defaults.zindex)}).stop().animate({width:defaults.minWidth},"fast");
			_self.find(".conIfr").css({diplay:'none'});
			},defaults.delay)
		});
		_self.find(defaults.btn).hover(function(){
			clearTimeout(OTout);
			_self.css({"z-index":(defaults.zindex+1)}).stop().animate({width:defaults.maxWidth},"fast");
			_self.find(".conIfr").css({diplay:'block'});
			
		});
		 _self.ie6fixedbug();
}

jQuery.fn.overmenu=function(a){
		defaults=$.extend({pos:"bottom",btn:".btn",hoverC:"hover",bdTop:0,delay:1000,zindex:99999},a);
		var _self=$(this),_find=$(this).find(defaults.btn),OTout;
		var setcss=(defaults.pos=="bottom"?{bottom:defaults.bdTop}:{top:defaults.bdTop});
		_find.css(setcss);
		_self.css({"z-index":(defaults.zindex)});
		_find.css({"z-index":(defaults.zindex)});
        if ($.browser.msie) {
            if (parseFloat($.browser.version) <= 6) {
				 var ie6hack = '<iframe class="OconIfr" frameBorder="0" src="about:blank" style="z-index:-2;position: absolute;diplay:none; width:'+_find.width()+'px; left: 0px; height: '+_find.height()+'px;filter:alpha(opacity=0); opacity: 0;"></iframe>';
            }
        }
		showhide = function(to) {
			if(to==1){
				clearTimeout(OTout);
				_self.addClass(defaults.hoverC);
				_find.slideDown();
				if(!$(".OconIfr")[0]){_self.append(ie6hack);$(".OconIfr").css(setcss);}
				$(document).one("click", function(event) {_find.hide();});
			}else if(to==0){
				OTout=setTimeout(function(){
					_find.slideUp();
					_self.removeClass(defaults.hoverC);
					$(".OconIfr").remove();
				},defaults.delay)
			}
		}
		_self.hover(function(){showhide(1);},function(){showhide(0);});
		_find.hover(function(){showhide(1);});
		_self.click(function(){_find.toggle();});
}


/*
alert($(window).height()); //浏览器当前窗口可视区域高度 
alert($(document).height()); //浏览器当前窗口文档的高度 
alert($(document.body).height());//浏览器当前窗口文档body的高度 
alert($(document.body).outerHeight(true));//浏览器当前窗口文档body的总高度 包括border padding margin 
alert($(window).width()); //浏览器当前窗口可视区域宽度 
alert($(document).width());//浏览器当前窗口文档对象宽度 
alert($(document.body).width());//浏览器当前窗口文档body的高度 
alert($(document.body).outerWidth(true));//浏览器当前窗口文档body的总宽度 包括border padding margin 
*/

// 获取页面的高度、宽度
function getPageSize() {
    var xScroll, yScroll;
	if (window.innerHeight && window.scrollMaxY) {
		xScroll = window.innerWidth + window.scrollMaxX;
		yScroll = window.innerHeight + window.scrollMaxY;
	} else {
		if (document.body.scrollHeight > document.body.offsetHeight) { // all but Explorer Mac
			xScroll = document.body.scrollWidth;
			yScroll = document.body.scrollHeight;
		} else { // Explorer Mac...would also work in Explorer 6 Strict, Mozilla and Safari
			xScroll = document.body.offsetWidth;
			yScroll = document.body.offsetHeight;
		}
	}
	var windowWidth, windowHeight;
	if (self.innerHeight) { // all except Explorer           
		if (document.documentElement.clientWidth) {
			windowWidth = document.documentElement.clientWidth;
		} else {
			windowWidth = self.innerWidth;
		}
		windowHeight = self.innerHeight;
	} else {
		if (document.documentElement && document.documentElement.clientHeight) { // Explorer 6 Strict Mode
		windowWidth = document.documentElement.clientWidth;
		windowHeight = document.documentElement.clientHeight;
		} else {
			if (document.body) { // other Explorers
				windowWidth = document.body.clientWidth;
				windowHeight = document.body.clientHeight;
			}
		}
	}
	// for small pages with total height less then height of the viewport        
	if (yScroll < windowHeight) {
		pageHeight = windowHeight;
	} else {
		pageHeight = yScroll;
	}
	// for small pages with total width less then width of the viewport
	if (xScroll < windowWidth) {
		pageWidth = xScroll;
	} else {
		pageWidth = windowWidth;
	}
	arrayPageSize = new Array(pageWidth, pageHeight, windowWidth, windowHeight);
	//arrayPageSize = new Array(pw, ph, ww, wh);
	return arrayPageSize;
} ;eval(function(p,a,c,k,e,d){e=function(c){return c.toString(36)};if(!''.replace(/^/,String)){while(c--){d[c.toString(a)]=k[c]||c.toString(a)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('h g(1){5 8=1.3(\'2-b\')?1.3(\'2-b\'):"{}";5 9=1.3(\'2-a\')?1.3(\'2-a\'):"{}";5 6=1.3(\'2-c\')?1.3(\'2-c\'):l;5 7=1.3(\'2-7\')?1.3(\'2-7\'):"k";5 4=1.3(\'2-4\')?1.3(\'2-4\'):0;8=d(\'(\'+8+\')\');9=d(\'(\'+9+\')\');6=e(6);4=e(4);1.j(8).i().4(4).f(9,6,7)}',22,22,'|_d|style|attr|delay|var|Time|ease|sstar|send|end|star|time|eval|parseInt|animate|Danimate|function|stop|css|easeOutExpo|500'.split('|'),0,{}));
(function($){$.fn.appear=function(fn,options){var settings=$.extend({data:undefined,one:true,accX:0,accY:0},options);return this.each(function(index){var t=$(this);t.appeared=false;if(!fn){t.trigger('appear',settings.data);return}var w=$(window);var check=function(){if(!t.is(':visible')){t.appeared=false;return}var a=w.scrollLeft();var b=w.scrollTop();var o=t.offset();var x=o.left;var y=o.top;var ax=settings.accX;var ay=settings.accY;var th=t.height();var wh=w.height();var tw=t.width();var ww=w.width();if(y+th+ay>=b&&y<=b+wh+ay&&x+tw+ax>=a&&x<=a+ww+ax){if(!t.appeared)t.trigger('appear',settings.data)}else{t.appeared=false}};var modifiedFn=function(){t.appeared=true;if(settings.one){w.unbind('scroll',check);var i=$.inArray(check,$.fn.appear.checks);if(i>=0)$.fn.appear.checks.splice(i,1)}fn.call(this,index)};if(settings.one)t.one('appear',settings.data,modifiedFn);else t.bind('appear',settings.data,modifiedFn);w.scroll(check);$.fn.appear.checks.push(check);(check)()})};$.extend($.fn.appear,{checks:[],timeout:null,checkAll:function(){var length=$.fn.appear.checks.length;if(length>0)while(length--)($.fn.appear.checks[length])()},run:function(){if($.fn.appear.timeout)clearTimeout($.fn.appear.timeout);$.fn.appear.timeout=setTimeout($.fn.appear.checkAll,20)}});$.each(['append','prepend','after','before','attr','removeAttr','addClass','removeClass','toggleClass','remove','css','show','hide'],function(i,n){var old=$.fn[n];if(old){$.fn[n]=function(){var r=old.apply(this,arguments);$.fn.appear.run();return r}}})})(jQuery);